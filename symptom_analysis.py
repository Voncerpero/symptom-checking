from datetime import datetime

# ข้อมูลโรคและอาการ
diseases = [
    {
        'name': 'ไข้หวัดใหญ่',
        'symptoms': ['ไข้', 'หนาวสั่น', 'ไอ', 'เจ็บคอ', 'น้ำมูกไหล', 'กล้ามเนื้อปวด', 'ความเหนื่อยล้า'],
        'prevention': ['การฉีดวัคซีนประจำปี', 'การล้างมืออย่างถูกต้อง', 'หลีกเลี่ยงการใกล้ชิดกับบุคคลที่ป่วย'],
        'treatment': ['การพักผ่อน', 'การดื่มน้ำ', 'ยาต้านไวรัส']
    },
    {
        'name': 'ความดันโลหิตสูง',
        'symptoms': ['ปวดหัว', 'เวียนศีรษะ', 'จมูกเลือดออก'],
        'prevention': ['การรับประทานอาหารที่ดีต่อสุขภาพ', 'การออกกำลังกายสม่ำเสมอ', 'การควบคุมน้ำหนัก', 'การลดการบริโภคเกลือ'],
        'treatment': ['การเปลี่ยนแปลงวิถีชีวิต', 'ยาลดความดันโลหิต']
    },
    {
        'name': 'โควิด-19',
        'symptoms': ['ไข้', 'ไอ', 'หายใจลำบาก', 'สูญเสียรสชาติ/กลิ่น', 'ความเหนื่อยล้า'],
        'prevention': ['การฉีดวัคซีน', 'การสวมหน้ากาก', 'การเว้นระยะห่างทางสังคม'],
        'treatment': ['การดูแลตามอาการ', 'ยาต้านไวรัส', 'การรักษาในโรงพยาบาลในกรณีรุนแรง']
    },
    {
        'name': 'เบาหวาน',
        'symptoms': ['กระหายน้ำเพิ่มขึ้น', 'ปัสสาวะบ่อย', 'ความเหนื่อยล้า', 'มองเห็นเบลอ'],
        'prevention': ['การรับประทานอาหารที่ดีต่อสุขภาพ', 'การออกกำลังกายเป็นประจำ', 'การรักษาน้ำหนัก'],
        'treatment': ['การบำบัดด้วยอินซูลิน', 'ยารับประทาน', 'การเปลี่ยนแปลงวิถีชีวิต']
    },
    {
        'name': 'โรคหอบหืด',
        'symptoms': ['หายใจลำบาก', 'เสียงวี๊ด', 'ความรู้สึกอึดอัดที่หน้าอก', 'ไอ'],
        'prevention': ['หลีกเลี่ยงปัจจัยกระตุ้น', 'การใช้ยาพ่น', 'การรักษาสภาพร่างกายให้แข็งแรง'],
        'treatment': ['ยาสเตียรอยด์พ่น', 'ยาขยายหลอดลม', 'การจัดการปัจจัยกระตุ้น']
    },
    {
        'name': 'ปอดบวม',
        'symptoms': ['ไอมีเสมหะ', 'ไข้', 'หนาวสั่น', 'หายใจลำบาก'],
        'prevention': ['การฉีดวัคซีน', 'การรักษาสุขอนามัย', 'การหลีกเลี่ยงการสูบบุหรี่'],
        'treatment': ['ยาปฏิชีวนะ', 'การพักผ่อน', 'การดื่มน้ำ', 'การบำบัดด้วยออกซิเจนในกรณีรุนแรง']
    },
    {
        'name': 'วัณโรค',
        'symptoms': ['ไอเรื้อรัง', 'การลดน้ำหนัก', 'เหงื่อออกตอนกลางคืน', 'ไข้'],
        'prevention': ['การฉีดวัคซีน BCG', 'หลีกเลี่ยงการสัมผัสกับบุคคลที่ติดเชื้อวัณโรค'],
        'treatment': ['การบำบัดด้วยยาต้านวัณโรคระยะยาว']
    },
    {
        'name': 'ไวรัสตับอักเสบบี',
        'symptoms': ['ดีซ่าน', 'ความเหนื่อยล้า', 'ปวดท้อง', 'ปัสสาวะมีสีเข้ม'],
        'prevention': ['การฉีดวัคซีน', 'การมีเพศสัมพันธ์อย่างปลอดภัย', 'การหลีกเลี่ยงการใช้เข็มร่วมกัน'],
        'treatment': ['ยาต้านไวรัส', 'การตรวจติดตามเป็นระยะ', 'การปลูกถ่ายตับในกรณีรุนแรง']
    },
    {
        'name': 'โรคปอดอุดกั้นเรื้อรัง',
        'symptoms': ['หายใจลำบาก', 'ไอเรื้อรัง', 'การติดเชื้อทางเดินหายใจบ่อย'],
        'prevention': ['หลีกเลี่ยงการสูบบุหรี่', 'ลดการสัมผัสกับมลพิษ', 'การฉีดวัคซีน'],
        'treatment': ['ยาขยายหลอดลม', 'สเตียรอยด์', 'การบำบัดด้วยออกซิเจน']
    },
    {
        'name': 'โรคหลอดเลือดสมอง',
        'symptoms': ['อาการชาของร่างกาย', 'ความสับสน', 'พูดลำบาก', 'ปัญหาการมองเห็น', 'การเสียการทรงตัว'],
        'prevention': ['การควบคุมความดันโลหิต', 'การรับประทานอาหารที่ดีต่อสุขภาพ', 'การออกกำลังกายเป็นประจำ'],
        'treatment': ['ยาละลายลิ่มเลือด', 'การผ่าตัด', 'การฟื้นฟูสมรรถภาพ']
    },
    {
        'name': 'โรคอัลไซเมอร์',
        'symptoms': ['การสูญเสียความจำ', 'ความสับสน', 'ความยากลำบากในการทำกิจกรรมที่คุ้นเคย', 'การเปลี่ยนแปลงอารมณ์'],
        'prevention': ['การทำกิจกรรมทางกายและจิตใจอย่างสม่ำเสมอ', 'การรับประทานอาหารที่ดีต่อสุขภาพ', 'การจัดการสุขภาพหัวใจ'],
        'treatment': ['การใช้ยาเพื่อจัดการกับอาการ', 'การบำบัดทางสติปัญญา', 'การดูแลอย่างสนับสนุน']
    },
    {
        'name': 'ไข้เลือดออก',
        'symptoms': ['ไข้สูง', 'ปวดหัวรุนแรง', 'ปวดหลังตา', 'ปวดข้อต่อ/กล้ามเนื้อ', 'ผื่น'],
        'prevention': ['การควบคุมยุง', 'การใช้สารกันยุง', 'การสวมเสื้อผ้าที่ปกปิด'],
        'treatment': ['การดูแลตามอาการ', 'ยาบรรเทาอาการปวด', 'การทดแทนของเหลว']
    },
    {
        'name': 'มาลาเรีย',
        'symptoms': ['ไข้', 'หนาวสั่น', 'ปวดหัว', 'คลื่นไส้', 'ปวดกล้ามเนื้อ'],
        'prevention': ['การใช้ยาต้านมาลาเรีย', 'การควบคุมยุง', 'การนอนใต้มุ้งที่เคลือบสารกำจัดแมลง'],
        'treatment': ['ยาต้านมาลาเรีย', 'การดูแลตามอาการ']
    },
    {
        'name': 'เอชไอวี/เอดส์',
        'symptoms': ['การลดน้ำหนัก', 'ไข้', 'ความเหนื่อยล้า', 'การติดเชื้อซ้ำ'],
        'prevention': ['การมีเพศสัมพันธ์อย่างปลอดภัย', 'โปรแกรมแลกเปลี่ยนเข็ม', 'การบำบัดด้วยยาต้านไวรัส'],
        'treatment': ['การบำบัดด้วยยาต้านไวรัส', 'การจัดการกับการติดเชื้อที่เกิดขึ้นซ้ำ']
    },
    {
        'name': 'โรคอีโบล่า',
        'symptoms': ['ไข้', 'ปวดหัวรุนแรง', 'ปวดกล้ามเนื้อ', 'อาเจียน', 'การตกเลือดที่ไม่สามารถอธิบายได้'],
        'prevention': ['การหลีกเลี่ยงการสัมผัสกับบุคคลที่ติดเชื้อ', 'การรักษาสุขอนามัยอย่างดี', 'การฉีดวัคซีนในพื้นที่ที่มีความเสี่ยงสูง'],
        'treatment': ['การดูแลตามอาการ', 'การรักษาทางทดลอง']
    },
    {
        'name': 'โรคพาร์กินสัน',
        'symptoms': ['การสั่น', 'ความแข็ง', 'การเคลื่อนไหวช้า', 'ความไม่มั่นคงทางเดิน'],
        'prevention': ['การออกกำลังกายเป็นประจำ', 'การรับประทานอาหารที่ดีต่อสุขภาพ', 'การจัดการสุขภาพสมอง'],
        'treatment': ['การใช้ยา', 'การบำบัดทางกายภาพ', 'การผ่าตัดในบางกรณี']
    }
]

def diagnose(symptoms, start_date):
    likely_diseases = []

    for disease in diseases:
        matching_symptoms = [symptom for symptom in symptoms if symptom in disease['symptoms']]
        if matching_symptoms:
            likely_diseases.append((disease['name'], matching_symptoms))

    return likely_diseases

def main():
    # รับข้อมูลจากผู้ใช้
    user_symptoms = input("กรุณาระบุอาการ (คั่นด้วยเครื่องหมายจุลภาค เช่น ไข้,ไอ,ปวดหัว): ").split(',')
    start_date = input("กรุณาระบุวันที่เริ่มมีอาการ (dd/mm/yyyy): ")

    # แปลงวันที่ให้เป็น datetime object
    try:
        start_date_parsed = datetime.strptime(start_date, '%d/%m/%Y')
    except ValueError:
        print("รูปแบบวันที่ไม่ถูกต้อง กรุณาใช้รูปแบบ dd/mm/yyyy")
        return

    # เรียกฟังก์ชันวินิจฉัยโรค
    diagnosis = diagnose(user_symptoms, start_date_parsed)

    # แสดงผลลัพธ์
    if diagnosis:
        print("\nโรคที่อาจจะเป็นได้:")
        for disease, matching_symptoms in diagnosis:
            print(f"- {disease}: อาการที่ตรงกัน {', '.join(matching_symptoms)}")
    else:
        print("ไม่พบโรคที่ตรงกับอาการที่ระบุ")

if __name__ == "__main__":
    main()
